<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>News Detail</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Navbar</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="../../EventsCalendar/eventsPage.html">Event Calendar</a></li>
                    <li class="nav-item"><a class="nav-link" href="./sgfinder/sgfinder.html">Study Group Finder</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Course Reviews</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Course Notes</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Campus News</a></li>
                    <li class="nav-item"><a class="nav-link" href="../../ITCS333Project/StudentMarketPlace/index.html">Student Marketplace</a></li>
                        </ul>
            </div>
        </div>
    </nav>
    

<div class="container mt-5">
  <h2 class="news-detail-title">Library Now Open Until 10 PM</h2>
  <p class="text-muted">Category: Announcement | April 5, 2025</p>
  <img src="https://via.placeholder.com/800x300" class="img-fluid rounded main-news-image my-3">
  <p>The university library will now remain open until 10 PM on weekdays starting next week, based on feedback from students. This will help with study and group work especially during exams.</p>

  <div class="mt-4">
    <button class="btn btn-warning">Edit</button>
    <button class="btn btn-danger">Delete</button>
  </div>

  <div class="mt-5">
    <h4>Comments</h4>
    <div class="bg-light p-3 rounded mb-2 comment-box">Great update! – Student A</div>
    <div class="bg-light p-3 rounded mb-2 comment-box">Much needed. – Student B</div>
    <textarea class="form-control mt-3" rows="3" placeholder="Write a comment..."></textarea>
  </div>

  <a href="index.html" class="btn btn-link mt-3">← Back to news listing</a>
</div> <footer class="bg-dark text-light pt-5">
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <h3>Coding Yaar</h3>
                <p>321, Lorem ipsum dolor sit amet.</p>
                <p>0987654321</p>
            </div>
            <div class="col-md-4">
                <h4>Menu</h4>
                <ul class="list-unstyled">
                    <li><a href="#" class="text-light text-decoration-none">Home</a></li>
                    <li><a href="#" class="text-light text-decoration-none">About</a></li>
                    <li><a href="#" class="text-light text-decoration-none">Contact</a></li>
                </ul>
            </div>
            <div class="col-md-4">
                <h4>More</h4>
                <ul class="list-unstyled">
                    <li><a href="#" class="text-light text-decoration-none">Landing Pages</a></li>
                    <li><a href="#" class="text-light text-decoration-none">FAQs</a></li>
                </ul>
            </div>
        </div>
        <hr>
        <div class="d-flex justify-content-between py-1">
            <p>2023 © Coding Yaar. All Rights Reserved.</p>
            <p>
                <a href="#" class="text-light text-decoration-none">Terms of Use</a>
                <a href="#" class="text-light text-decoration-none ms-3">Privacy Policy</a>
            </p>
        </div>
    </div>
</footer>
<script>
    document.addEventListener('DOMContentLoaded', function() {
      const params = new URLSearchParams(window.location.search);
      const newsId = params.get('id');
      const newsList = JSON.parse(localStorage.getItem('campusNews')) || [];
      
      if (newsId === null || !newsList[newsId]) {
        document.querySelector('.container').innerHTML = '<h2>News not found.</h2>';
        return;
      }
    
      const news = newsList[newsId];
     
      document.querySelector('.news-detail-title').textContent = news.title;
      document.querySelector('.text-muted').textContent = `Category: ${news.category} | ${news.date}`;
      document.querySelector('.main-news-image').src = 'https://via.placeholder.com/800x300';
      document.querySelector('.container p').textContent = news.content;
    
      const commentSection = document.querySelector('.mt-5');
      news.comments.forEach(comment => {
        const div = document.createElement('div');
        div.className = 'bg-light p-3 rounded mb-2 comment-box';
        div.textContent = comment;
        commentSection.insertBefore(div, commentSection.querySelector('textarea'));
      });
    
      
      const textarea = document.querySelector('textarea');
      textarea.addEventListener('keypress', function(e) {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          const newComment = textarea.value.trim();
          if (newComment) {
            news.comments.push(newComment);
            localStorage.setItem('campusNews', JSON.stringify(newsList));
            location.reload();
          }
        }
      });
    
      
      document.querySelector('.btn-danger').addEventListener('click', function() {
        if (confirm('Are you sure you want to delete this news?')) {
          newsList.splice(newsId, 1);
          localStorage.setItem('campusNews', JSON.stringify(newsList));
          window.location.href = 'index.html';
        }
      });
    
      
      document.querySelector('.btn-warning').addEventListener('click', function() {
        const newTitle = prompt('Edit title:', news.title);
        const newContent = prompt('Edit content:', news.content);
        if (newTitle && newContent) {
          news.title = newTitle;
          news.content = newContent;
          localStorage.setItem('campusNews', JSON.stringify(newsList));
          location.reload();
        }
      });
    });
    </script>
    

</body>
</html>
